#include <BluetoothSerial.h>

BluetoothSerial bt;

#define red   12
#define green 13
#define blue  14

void setup() {
  pinMode(red, OUTPUT);
  pinMode(green, OUTPUT);
  pinMode(blue, OUTPUT);

  bt.begin("ESP32_RGB");   // Bluetooth device name
}

void loop() {

  if (bt.available()) {
    char cmd = bt.read();

    switch (cmd) {

      case 'r':   // RED ON
        digitalWrite(red, 1);
        digitalWrite(green, 0);
        digitalWrite(blue, 0);
        break;

      case 'g':   // GREEN ON
        digitalWrite(red, 0);
        digitalWrite(green, 1);
        digitalWrite(blue, 0);
        break;

      case 'b':   // BLUE ON
        digitalWrite(red, 0);
        digitalWrite(green, 0);
        digitalWrite(blue, 1);
        break;

      case '0':   // ALL OFF
        digitalWrite(red, 0);
        digitalWrite(green, 0);
        digitalWrite(blue, 0);
        break;

      case '1':   // ALL ON (WHITE)
        digitalWrite(red, 1);
        digitalWrite(green, 1);
        digitalWrite(blue, 1);
        break;

      default:
        break;
    }
  }
}
